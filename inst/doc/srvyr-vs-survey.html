<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Greg Freedman" />

<meta name="date" content="2020-05-03" />

<title>srvyr compared to the survey package</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore"><code>srvyr</code> compared to the <code>survey</code> package</h1>
<h4 class="author">Greg Freedman</h4>
<h4 class="date">2020-05-03</h4>



<p>The <code>srvyr</code> package aims to add <code>dplyr</code> like syntax to the <code>survey</code> package. This vignette focuses on how <code>srvyr</code> compares to the <code>survey</code> package, for more information about survey design and analysis, check out the vignettes in the <code>survey</code> package, or Thomas Lumley’s book, <a href="http://r-survey.r-forge.r-project.org/svybook/"><em>Complex Surveys: A Guide to Analysis Using R</em></a>.</p>
<p>Everything that <code>srvyr</code> can do, can also be done in <code>survey</code>. In fact, behind the scenes the <code>survey</code> package is doing all of the hard work for <code>srvyr</code>. <code>srvyr</code> strives to make your code simpler and more easily readable to you, especially if you are already used to the <code>dplyr</code> package.</p>
<div id="motivating-example" class="section level1">
<h1>Motivating example</h1>
<p>The <code>dplyr</code> package has made it fast and easy to write code to summarize data. For example, if we wanted to check how the year-to-year change in academic progress indicator score varied by school level and percent of parents were high school graduates, we can do this:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">library</span>(survey)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb1-4"><a href="#cb1-4"></a></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="kw">data</span>(api)</span>
<span id="cb1-6"><a href="#cb1-6"></a></span>
<span id="cb1-7"><a href="#cb1-7"></a>out &lt;-<span class="st"> </span>apistrat <span class="op">%&gt;%</span></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">hs_grad_pct =</span> <span class="kw">cut</span>(hsg, <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>, <span class="dv">100</span>), <span class="dt">include.lowest =</span> <span class="ot">TRUE</span>,</span>
<span id="cb1-9"><a href="#cb1-9"></a>                           <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;&lt;20%&quot;</span>, <span class="st">&quot;20+%&quot;</span>))) <span class="op">%&gt;%</span></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="st">  </span><span class="kw">group_by</span>(stype, hs_grad_pct) <span class="op">%&gt;%</span></span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">api_diff =</span> <span class="kw">weighted.mean</span>(api00 <span class="op">-</span><span class="st"> </span>api99, pw),</span>
<span id="cb1-12"><a href="#cb1-12"></a>            <span class="dt">n =</span> <span class="kw">n</span>())</span>
<span id="cb1-13"><a href="#cb1-13"></a></span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> out, <span class="kw">aes</span>(<span class="dt">x =</span> stype, <span class="dt">y =</span> api_diff, <span class="dt">group =</span> hs_grad_pct, <span class="dt">fill =</span> hs_grad_pct)) <span class="op">+</span></span>
<span id="cb1-15"><a href="#cb1-15"></a><span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="dt">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="op">+</span></span>
<span id="cb1-16"><a href="#cb1-16"></a><span class="st">  </span><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">y =</span> <span class="dv">0</span>, <span class="dt">label =</span> n), <span class="dt">position =</span> <span class="kw">position_dodge</span>(<span class="dt">width =</span> <span class="fl">0.9</span>), <span class="dt">vjust =</span> <span class="dv">-1</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>However, if we wanted to add error bars to the graph to capture the uncertainty due to sampling variation, we have to completely rewrite the <code>dplyr</code> code for the <code>survey</code> package. <code>srvyr</code> allows a more direct translation.</p>
</div>
<div id="preparing-a-survey-dataset" class="section level1">
<h1>Preparing a survey dataset</h1>
<p><code>as_survey_design()</code>, <code>as_survey_rep()</code> and <code>as_survey_twophase()</code> are analogous to <code>survey::svydesign()</code>, <code>survey::svrepdesign()</code> and <code>survey::twophase()</code> respectively. Because they are designed to match <code>dplyr</code>’s style of non-standard evaluation, they accept bare column names instead of formulas (~). They also move the data argument first, so that it is easier to use <code>magrittr</code> pipes (<code>%&gt;%</code>).</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">library</span>(srvyr)</span>
<span id="cb2-2"><a href="#cb2-2"></a></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="co"># simple random sample</span></span>
<span id="cb2-4"><a href="#cb2-4"></a>srs_design_srvyr &lt;-<span class="st"> </span>apisrs <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">as_survey_design</span>(<span class="dt">ids =</span> <span class="dv">1</span>, <span class="dt">fpc =</span> fpc)</span>
<span id="cb2-5"><a href="#cb2-5"></a></span>
<span id="cb2-6"><a href="#cb2-6"></a>srs_design_survey &lt;-<span class="st"> </span><span class="kw">svydesign</span>(<span class="dt">ids =</span> <span class="op">~</span><span class="dv">1</span>, <span class="dt">fpc =</span> <span class="op">~</span>fpc, <span class="dt">data =</span> apisrs)</span></code></pre></div>
<p>The <code>srvyr</code> functions also accept <code>dplyr::select()</code>’s special selection functions (such as <code>starts_with()</code>, <code>one_of()</code>, etc.), so these functions are analogous:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># selecting variables to keep in the survey object (stratified example)</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>strat_design_srvyr &lt;-<span class="st"> </span>apistrat <span class="op">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="st">  </span><span class="kw">as_survey_design</span>(<span class="dv">1</span>, <span class="dt">strata =</span> stype, <span class="dt">fpc =</span> fpc, <span class="dt">weight =</span> pw,</span>
<span id="cb3-4"><a href="#cb3-4"></a>                <span class="dt">variables =</span> <span class="kw">c</span>(stype, <span class="kw">starts_with</span>(<span class="st">&quot;api&quot;</span>)))</span>
<span id="cb3-5"><a href="#cb3-5"></a></span>
<span id="cb3-6"><a href="#cb3-6"></a>strat_design_survey &lt;-<span class="st"> </span><span class="kw">svydesign</span>(<span class="op">~</span><span class="dv">1</span>, <span class="dt">strata =</span> <span class="op">~</span>stype, <span class="dt">fpc =</span> <span class="op">~</span>fpc,</span>
<span id="cb3-7"><a href="#cb3-7"></a>                                 <span class="dt">variables =</span> <span class="op">~</span>stype <span class="op">+</span><span class="st"> </span>api99 <span class="op">+</span><span class="st"> </span>api00 <span class="op">+</span><span class="st"> </span>api.stu,</span>
<span id="cb3-8"><a href="#cb3-8"></a>                                 <span class="dt">weight =</span> <span class="op">~</span>pw, <span class="dt">data =</span> apistrat)</span></code></pre></div>
<p>The function <code>as_survey()</code> will automatically choose between the three <code>as_survey_*</code> functions based on the arguments, so you can save a few keystrokes.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># simple random sample (again)</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>srs_design_srvyr2 &lt;-<span class="st"> </span>apisrs <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">as_survey</span>(<span class="dt">ids =</span> <span class="dv">1</span>, <span class="dt">fpc =</span> fpc)</span></code></pre></div>
</div>
<div id="data-manipulation" class="section level1">
<h1>Data manipulation</h1>
<p>Once you’ve set up your survey data, you can use <code>dplyr</code> verbs such as <code>mutate()</code>, <code>select()</code>, <code>filter()</code> and <code>rename()</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>strat_design_srvyr &lt;-<span class="st"> </span>strat_design_srvyr <span class="op">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">api_diff =</span> api00 <span class="op">-</span><span class="st"> </span>api99) <span class="op">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">api_students =</span> api.stu)</span>
<span id="cb5-4"><a href="#cb5-4"></a></span>
<span id="cb5-5"><a href="#cb5-5"></a>strat_design_survey<span class="op">$</span>variables<span class="op">$</span>api_diff &lt;-<span class="st"> </span>strat_design_survey<span class="op">$</span>variables<span class="op">$</span>api00 <span class="op">-</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="st">  </span>strat_design_survey<span class="op">$</span>variables<span class="op">$</span>api99</span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="kw">names</span>(strat_design_survey<span class="op">$</span>variables)[<span class="kw">names</span>(strat_design_survey<span class="op">$</span>variables) <span class="op">==</span><span class="st"> &quot;api.stu&quot;</span>] &lt;-<span class="st"> &quot;api_students&quot;</span></span></code></pre></div>
<p>Note that <code>arrange()</code> is not available, because the <code>srvyr</code> object expects to stay in the same order. Nor are two-table verbs such as <code>full_join()</code>, <code>bind_rows()</code>, etc. available to <code>srvyr</code> objects either because they may have implications on the survey design. If you need to use these functions, you should use them earlier in your analysis pipeline, when the objects are still stored as <code>data.frame</code>s.</p>
</div>
<div id="summary-statistics" class="section level1">
<h1>Summary statistics</h1>
<div id="of-the-entire-population" class="section level2">
<h2>Of the entire population</h2>
<p><code>srvyr</code> also provides <code>summarize()</code> and several survey-specific functions that calculate summary statistics on numeric variables: <code>survey_mean()</code>, <code>survey_total()</code>, <code>survey_quantile()</code> and <code>survey_ratio()</code>. These functions differ from their counterparts in <code>survey</code> because they always return a data.frame in a consistent format. As such, they do not return the variance-covariance matrix, and so are not as flexible.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># Using srvyr</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>out &lt;-<span class="st"> </span>strat_design_srvyr <span class="op">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">api_diff =</span> <span class="kw">survey_mean</span>(api_diff, <span class="dt">vartype =</span> <span class="st">&quot;ci&quot;</span>))</span>
<span id="cb6-4"><a href="#cb6-4"></a></span>
<span id="cb6-5"><a href="#cb6-5"></a>out</span></code></pre></div>
<pre><code>## # A tibble: 1 x 3
##   api_diff api_diff_low api_diff_upp
##      &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;
## 1     32.9         28.8         36.9</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># Using survey</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>out &lt;-<span class="st"> </span><span class="kw">svymean</span>(<span class="op">~</span>api_diff, strat_design_survey)</span>
<span id="cb8-3"><a href="#cb8-3"></a></span>
<span id="cb8-4"><a href="#cb8-4"></a>out</span></code></pre></div>
<pre><code>##            mean     SE
## api_diff 32.893 2.0511</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="kw">confint</span>(out)</span></code></pre></div>
<pre><code>##             2.5 %   97.5 %
## api_diff 28.87241 36.91262</code></pre>
</div>
<div id="by-group" class="section level2">
<h2>By group</h2>
<p><code>srvyr</code> also allows you to calculate statistics on numeric variables by group, using <code>group_by()</code>.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># Using srvyr</span></span>
<span id="cb12-2"><a href="#cb12-2"></a>strat_design_srvyr <span class="op">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="st">  </span><span class="kw">group_by</span>(stype) <span class="op">%&gt;%</span></span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">api_increase =</span> <span class="kw">survey_total</span>(api_diff <span class="op">&gt;=</span><span class="st"> </span><span class="dv">0</span>),</span>
<span id="cb12-5"><a href="#cb12-5"></a>            <span class="dt">api_decrease =</span> <span class="kw">survey_total</span>(api_diff <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span>))</span></code></pre></div>
<pre><code>## # A tibble: 3 x 5
##   stype api_increase api_increase_se api_decrease api_decrease_se
##   &lt;fct&gt;        &lt;dbl&gt;           &lt;dbl&gt;        &lt;dbl&gt;           &lt;dbl&gt;
## 1 E            4067.           119.         354.            119. 
## 2 H             498.            49.4        257.             49.4
## 3 M             998.            19.9         20.4            19.9</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="co"># Using survey</span></span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="kw">svyby</span>(<span class="op">~</span>api_diff <span class="op">&gt;=</span><span class="st"> </span><span class="dv">0</span>, <span class="op">~</span>stype, strat_design_survey, svytotal)</span></code></pre></div>
<pre><code>##   stype api_diff &gt;= 0FALSE api_diff &gt;= 0TRUE se.api_diff &gt;= 0FALSE
## E     E             353.68           4067.32             119.17185
## H     H             256.70            498.30              49.37208
## M     M              20.36            997.64              19.85371
##   se.api_diff &gt;= 0TRUE
## E            119.17185
## H             49.37208
## M             19.85371</code></pre>
</div>
<div id="proportions-by-group" class="section level2">
<h2>Proportions by group</h2>
<p>You can also calculate the proportion or count in each group of a factor or character variable by leaving x empty in <code>survey_mean()</code> or <code>survey_total()</code>.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="co"># Using srvyr</span></span>
<span id="cb16-2"><a href="#cb16-2"></a>srs_design_srvyr <span class="op">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="st">  </span><span class="kw">group_by</span>(awards) <span class="op">%&gt;%</span></span>
<span id="cb16-4"><a href="#cb16-4"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">proportion =</span> <span class="kw">survey_mean</span>(),</span>
<span id="cb16-5"><a href="#cb16-5"></a>            <span class="dt">total =</span> <span class="kw">survey_total</span>())</span></code></pre></div>
<pre><code>## # A tibble: 2 x 5
##   awards proportion proportion_se total total_se
##   &lt;fct&gt;       &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
## 1 No           0.38        0.0338 2354.     210.
## 2 Yes          0.62        0.0338 3840.     210.</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="co"># Using survey</span></span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="kw">svymean</span>(<span class="op">~</span>awards, srs_design_survey)</span></code></pre></div>
<pre><code>##           mean     SE
## awardsNo  0.38 0.0338
## awardsYes 0.62 0.0338</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="kw">svytotal</span>(<span class="op">~</span>awards, srs_design_survey)</span></code></pre></div>
<pre><code>##            total     SE
## awardsNo  2353.7 209.65
## awardsYes 3840.3 209.65</code></pre>
</div>
<div id="unweighted-calculations" class="section level2">
<h2>Unweighted calculations</h2>
<p>Finally, the <code>unweighted()</code> function can act as an escape hatch to calculate unweighted calculations on the dataset.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="co"># Using srvyr</span></span>
<span id="cb22-2"><a href="#cb22-2"></a>strat_design_srvyr <span class="op">%&gt;%</span></span>
<span id="cb22-3"><a href="#cb22-3"></a><span class="st">  </span><span class="kw">group_by</span>(stype) <span class="op">%&gt;%</span></span>
<span id="cb22-4"><a href="#cb22-4"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">n =</span> <span class="kw">unweighted</span>(<span class="kw">n</span>()))</span></code></pre></div>
<pre><code>## # A tibble: 3 x 2
##   stype     n
##   &lt;fct&gt; &lt;int&gt;
## 1 E       100
## 2 H        50
## 3 M        50</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="co"># Using survey</span></span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="kw">svyby</span>(<span class="op">~</span>api99, <span class="op">~</span>stype, strat_design_survey, unwtd.count)</span></code></pre></div>
<pre><code>##   stype counts se
## E     E    100  0
## H     H     50  0
## M     M     50  0</code></pre>
</div>
</div>
<div id="back-to-the-example" class="section level1">
<h1>Back to the example</h1>
<p>So now, we have all the tools needed to create the first graph and add error bounds. Notice that the data manipulation code is nearly identical to the <code>dplyr</code> code, with a little extra set up, and replacing <code>weighted.mean()</code> with <code>survey_mean</code>.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>strat_design &lt;-<span class="st"> </span>apistrat <span class="op">%&gt;%</span></span>
<span id="cb26-2"><a href="#cb26-2"></a><span class="st">  </span><span class="kw">as_survey_design</span>(<span class="dt">strata =</span> stype, <span class="dt">fpc =</span> fpc, <span class="dt">weight  =</span> pw)</span>
<span id="cb26-3"><a href="#cb26-3"></a></span>
<span id="cb26-4"><a href="#cb26-4"></a>out &lt;-<span class="st"> </span>strat_design <span class="op">%&gt;%</span></span>
<span id="cb26-5"><a href="#cb26-5"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">hs_grad_pct =</span> <span class="kw">cut</span>(hsg, <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>, <span class="dv">100</span>), <span class="dt">include.lowest =</span> <span class="ot">TRUE</span>,</span>
<span id="cb26-6"><a href="#cb26-6"></a>                           <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;&lt;20%&quot;</span>, <span class="st">&quot;20+%&quot;</span>))) <span class="op">%&gt;%</span></span>
<span id="cb26-7"><a href="#cb26-7"></a><span class="st">  </span><span class="kw">group_by</span>(stype, hs_grad_pct) <span class="op">%&gt;%</span></span>
<span id="cb26-8"><a href="#cb26-8"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">api_diff =</span> <span class="kw">survey_mean</span>(api00 <span class="op">-</span><span class="st"> </span>api99, <span class="dt">vartype =</span> <span class="st">&quot;ci&quot;</span>),</span>
<span id="cb26-9"><a href="#cb26-9"></a>            <span class="dt">n =</span> <span class="kw">unweighted</span>(<span class="kw">n</span>()))</span>
<span id="cb26-10"><a href="#cb26-10"></a></span>
<span id="cb26-11"><a href="#cb26-11"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> out, <span class="kw">aes</span>(<span class="dt">x =</span> stype, <span class="dt">y =</span> api_diff, <span class="dt">group =</span> hs_grad_pct, <span class="dt">fill =</span> hs_grad_pct,</span>
<span id="cb26-12"><a href="#cb26-12"></a>                       <span class="dt">ymax =</span> api_diff_upp, <span class="dt">ymin =</span> api_diff_low)) <span class="op">+</span></span>
<span id="cb26-13"><a href="#cb26-13"></a><span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="dt">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="op">+</span></span>
<span id="cb26-14"><a href="#cb26-14"></a><span class="st">  </span><span class="kw">geom_errorbar</span>(<span class="dt">position =</span> <span class="kw">position_dodge</span>(<span class="dt">width =</span> <span class="fl">0.9</span>), <span class="dt">width =</span> <span class="fl">0.1</span>) <span class="op">+</span></span>
<span id="cb26-15"><a href="#cb26-15"></a><span class="st">  </span><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">y =</span> <span class="dv">0</span>, <span class="dt">label =</span> n), <span class="dt">position =</span> <span class="kw">position_dodge</span>(<span class="dt">width =</span> <span class="fl">0.9</span>), <span class="dt">vjust =</span> <span class="dv">-1</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="grab-bag" class="section level1">
<h1>Grab Bag</h1>
<div id="using-survey-functions-on-srvyr-objects" class="section level2">
<h2>Using <code>survey</code> functions on <code>srvyr</code> objects</h2>
<p>Because <code>srvyr</code> objects are just <code>survey</code> objects with some extra structure, all of the functions from <code>survey</code> will still work with them. If you need to calculate something beyond simple summary statistics, you can use <code>survey</code> functions.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>glm &lt;-<span class="st"> </span><span class="kw">svyglm</span>(api00 <span class="op">~</span><span class="st"> </span>ell <span class="op">+</span><span class="st"> </span>meals <span class="op">+</span><span class="st"> </span>mobility, <span class="dt">design =</span> strat_design)</span>
<span id="cb27-2"><a href="#cb27-2"></a><span class="kw">summary</span>(glm)</span></code></pre></div>
<pre><code>## 
## Call:
## svyglm(formula = api00 ~ ell + meals + mobility, design = strat_design)
## 
## Survey design:
## Called via srvyr
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) 820.8873    10.0777  81.456   &lt;2e-16 ***
## ell          -0.4806     0.3920  -1.226    0.222    
## meals        -3.1415     0.2839 -11.064   &lt;2e-16 ***
## mobility      0.2257     0.3932   0.574    0.567    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## (Dispersion parameter for gaussian family taken to be 5171.966)
## 
## Number of Fisher Scoring iterations: 2</code></pre>
</div>
<div id="standard-evaluation" class="section level2">
<h2>Standard evaluation</h2>
<p>Srvyr now supports the standard evaluation conventions introduced in dplyr version 0.7 and rlang. If you’d like to use a function programmatically, you can use the functions from rlang like <code>rlang::quo()</code> or <code>rlang::sym()</code> to capture the expression and <code>rlang::!!</code> to unquote it. All of these functions are re-exported by srvyr, so you don’t need to load the rlang library to use them.</p>
<p>Here’s a quick example, but please see the dplyr vignette <a href="http://dplyr.tidyverse.org/articles/programming.html"><code>vignette(&quot;programming&quot;, package = &quot;dplyr&quot;)</code></a> for more details.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>fpc_var &lt;-<span class="st"> </span><span class="kw">sym</span>(<span class="st">&quot;fpc&quot;</span>)</span>
<span id="cb29-2"><a href="#cb29-2"></a>srs_design_srvyr &lt;-<span class="st"> </span>apisrs <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">as_survey_design</span>(<span class="dt">fpc =</span> <span class="op">!!</span>fpc_var)</span>
<span id="cb29-3"><a href="#cb29-3"></a></span>
<span id="cb29-4"><a href="#cb29-4"></a>grouping_var &lt;-<span class="st"> </span><span class="kw">sym</span>(<span class="st">&quot;stype&quot;</span>)</span>
<span id="cb29-5"><a href="#cb29-5"></a>api_diff &lt;-<span class="st"> </span><span class="kw">quo</span>(api00 <span class="op">-</span><span class="st"> </span>api99)</span>
<span id="cb29-6"><a href="#cb29-6"></a></span>
<span id="cb29-7"><a href="#cb29-7"></a>srs_design_srvyr <span class="op">%&gt;%</span></span>
<span id="cb29-8"><a href="#cb29-8"></a><span class="st">  </span><span class="kw">group_by</span>(<span class="op">!!</span>grouping_var) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb29-9"><a href="#cb29-9"></a><span class="st">  </span><span class="kw">summarize</span>(</span>
<span id="cb29-10"><a href="#cb29-10"></a>    <span class="dt">api_increase =</span> <span class="kw">survey_total</span>((<span class="op">!!</span>api_diff) <span class="op">&gt;=</span><span class="st"> </span><span class="dv">0</span>),</span>
<span id="cb29-11"><a href="#cb29-11"></a>    <span class="dt">api_decrease =</span> <span class="kw">survey_total</span>((<span class="op">!!</span>api_diff) <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span>)</span>
<span id="cb29-12"><a href="#cb29-12"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 3 x 5
##   stype api_increase api_increase_se api_decrease api_decrease_se
##   &lt;fct&gt;        &lt;dbl&gt;           &lt;dbl&gt;        &lt;dbl&gt;           &lt;dbl&gt;
## 1 E            4057.            205.         341.            98.5
## 2 H             557.            124.         217.            79.4
## 3 M             898.            152.         124.            60.5</code></pre>
<p>Srvyr will also follow dplyr’s lead on deprecating the old method of NSE, the so-called “underscore functions” (like <code>summarize_</code>). Currently, they have been soft-deprecated, but I expect them to be removed altogether in some future version of srvyr.</p>
</div>
<div id="scoped-functions" class="section level2">
<h2>Scoped functions</h2>
<p>Srvyr has also been able to take advantage of the new-ish dplyr “scoped” variants of the main manipulation functions like <code>summarize_at()</code>. These functions allow you to quickly calculate summary statistics for multiple variables. For example:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="co"># Calculate survey mean for all variables that have names starting with &quot;api&quot;</span></span>
<span id="cb31-2"><a href="#cb31-2"></a>strat_design <span class="op">%&gt;%</span></span>
<span id="cb31-3"><a href="#cb31-3"></a><span class="st">  </span><span class="kw">summarize_at</span>(<span class="kw">vars</span>(<span class="kw">starts_with</span>(<span class="st">&quot;api&quot;</span>)), survey_mean)</span></code></pre></div>
<pre><code>## # A tibble: 1 x 6
##   api00 api00_se api99 api99_se api.stu api.stu_se
##   &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;      &lt;dbl&gt;
## 1  662.     9.41  629.     9.96    498.       16.1</code></pre>
<p>The dplyr documentation <code>dplyr::scoped</code> provides more details.</p>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
